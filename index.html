function print(text) {
  console.log(text);
}

function logError(text) {
  console.error(text);
}

function calculateExpressionsFromFile(filePath) {
  // Используем fetch API для загрузки файла
  fetch(filePath)
    .then(response => response.text())
    .then(data => {
      const regex = /<\?(.*?)\?>/g;
      let match;
      while ((match = regex.exec(data)) !== null) {
        try {
          const expression = match[1];
          const result = eval(expression);
          print(`Выражение: ${expression}, Результат: ${result}`);
        } catch (e) {
          logError(`Ошибка при вычислении выражения: ${match[1]}`);
        }
      }
      const printRegex = /print\("([^"]*)"\)/g;
      while ((match = printRegex.exec(data)) !== null) {
        print(match[1]);
      }
    })
    .catch(e => logError('Ошибка при загрузке файла:', e));
}

calculateExpressionsFromFile('server.mx');
