<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Вычисление Выражений</title>
<style>
/* Добавьте сюда стили для красивого оформления вашего сайта */
body {
font-family: Arial, sans-serif;
background-color: #f7f7f7;
margin: 0;
padding: 20px;
}
.container {
max-width: 600px;
margin: auto;
background-color: #fff;
padding: 20px;
box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
</style>
</head>
<body>
<div class="container">
<h1>Вычисление Выражений</h1>
<!-- Сюда можно добавить дополнительный контент -->
</div>
<script>
function print(text) {
console.log(text);
}

function calculateExpressionsFromFile(filePath) {
// Используем fetch API для загрузки файла
fetch(filePath)
.then(response => response.text())
.then(data => {
// Исправленное регулярное выражение для поиска выражений
const regex = /<\?(.*?)\?>/g;
let match;
while ((match = regex.exec(data)) !== null) {
try {
const expression = match[1];
const result = eval(expression);
print(`Выражение: ${expression}, Результат: ${result}`);
} catch (error) {
console.error(`Ошибка при вычислении выражения: ${match[1]}`);
}
}
// Исправленное регулярное выражение для обработки команды print
const printRegex = /print\("([^"]*)"\)/g;
while ((match = printRegex.exec(data)) !== null) {
print(match[1]);
}
})
.catch(error => console.error('Ошибка при загрузке файла:', error));
}

// Вызываем функцию и передаем путь к файлу
calculateExpressionsFromFile('server.mx');
</script>
</body>
</html>
